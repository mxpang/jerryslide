<html>

<div style="width:200px;height:200px;"id="cloud">test canvas</div>
<canvas style="display:none;"id="can"width="200"height="200"></canvas>
<script>(function() {
    var canvas = document.getElementById('can'), context;

    if(!canvas.getContext) {
        alert('你的浏览器不支持 canvas!');
        return;
    }

    context = canvas.getContext('2d');
    context.fillStyle = 'red';
    context.beginPath();
    context.moveTo(75,40);
    context.bezierCurveTo(75,37,70,25,50,25);
    context.bezierCurveTo(20,25,20,62.5,20,62.5);
    context.bezierCurveTo(20,80,40,102,75,120);
    context.bezierCurveTo(110,102,130,80,130,62.5);
    context.bezierCurveTo(130,62.5,130,25,100,25);
    context.bezierCurveTo(85,25,75,37,75,40);
    context.fill();

    var url = context.canvas.toDataURL();
    /* data:image/png;base64,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
    */
    
    document.getElementById('cloud').style.backgroundImage = 'url("' + url + '")';
})();

</script>

</html>